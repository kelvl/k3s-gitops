# ---
# apiVersion: helm.fluxcd.io/v1
# kind: HelmRelease
# metadata:
#   name: oauth2-proxy
#   namespace: default
#   annotations:
#     fluxcd.io/ignore: "false"
#     fluxcd.io/automated: "true"
#     fluxcd.io/tag.chart-image: semver:~v5
#     # filter.fluxcd.io/vscode: "regex:^2.[0-9]+-.*$"
# spec:
#   releaseName: oauth2-proxy
#   rollback:
#     enable: true
#   chart:
#     repository: https://kubernetes-charts.storage.googleapis.com/
#     name: oauth2-proxy
#     version: 2.4.1
#   values:
#     ingress: 
#       enabled: true
#       annotations:
#         kubernetes.io/ingress.class: "traefik"
#         ingress.kubernetes.io/ssl-redirect: "true"
#         traefik.ingress.kubernetes.io/router.tls: "true"
#         traefik.ingress.kubernetes.io/router.tls.certresolver: "default"
#         traefik.ingress.kubernetes.io/router.entrypoints: websecure
#     authenticatedEmailsFile:
#       enabled: true
#     nodeSelector: 
#       kubernetes.io/hostname: nas-master
#   valueFileSecrets:
#   - name: "oauth2-proxy-helm-values"